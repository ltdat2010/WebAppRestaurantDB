@model WebAppRestaurantDB.ViewModels.VehicleViewModel

<script src="http://code.jquery.com/jquery-1.10.1.min.js" type="text/javascript"></script>

<script type="text/javascript">
    $(document).ready(function () {

        $('#SelectedMakeId').change(function () {

            loadModels($(this).val());
        });
    });

    function loadModels(makeId) {

        var ddlVehicle = $('#SelectedVehicleId');
        if ($.trim(makeId).length > 0) {


            ddlVehicle.removeAttr("disabled");

            $.ajax({

                url: '/Vehicle/GetSelectedModels?makeId=' + makeId,
                type: 'POST',
                contentType: 'application/json',
                success: function (result) {

                    //if (result.length > 0) {
                    //    ddlVehicle.empty().append($("<option></option>")
                    //         .attr("value","")
                    //         .text("please select"));
                    //    $.each(result, function (key, value) {

                    //        ddlVehicle.append($("<option></option>")
                    //         .attr("value", value.Id)
                    //         .text(value.VehicleName));
                    //    });
                    //}

                    console.log(result);
                }
            });


        } else {
            ddlVehicle.attr("disabled", "disabled");
        }
    }
</script>

<section role="main" class="content-body">
    <!-- header & breadcums -->
    <header class="page-header">
        <h2>Advanced Tables</h2>

        <div class="right-wrapper pull-right">
            <ol class="breadcrumbs">
                <li>
                    <a href="index.html">
                        <i class="fa fa-home"></i>
                    </a>
                </li>
                <li><span>Tables</span></li>
                <li><span>Advanced</span></li>
            </ol>

            <a class="sidebar-right-toggle" data-open="sidebar-right"><i class="fa fa-chevron-left"></i></a>
        </div>
    </header>

    <!-- start: page -->
    <!-- basic -->
    <section class="panel">
        @*@using (Html.BeginForm("Search", "Vehicle", FormMethod.Post))
            {*@
        <div class="row">
            <label>Make:</label>
            @Html.DropDownListFor(m => m.SelectedMakeId, Model.MakeModelsList, "please select")
            <br />

            <label>Model:</label>
            @Html.DropDownListFor(m => m.SelectedVehicleId, Model.VehicleModelsList, "please select")
            <select id="SelectedVehicleId" name="SelectedVehicleId" disabled="disabled"></select>
            <br />

            <input type="submit" value="Search" />

        </div>
        </section></section>

        @*}*@
